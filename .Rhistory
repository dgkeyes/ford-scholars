filter(response == "Y")
}
dk_summarize_awareness_depts_single()
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
group_by(group, response) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
group_by(response) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_single()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
group_by(response)
}
dk_summarize_awareness_depts_single()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
gather(key = "item", value = "response") %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(group, response) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_single()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
gather(key = "item", value = "response") %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(response) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_single()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
gather(key = "item", value = "response") %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, response) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_single()
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, response, group) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_multiple()
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = reorder(item, avg),
y = avg)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = avg),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 6),
breaks = 1:6) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = reorder(item, pct),
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 6),
breaks = 1:6) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = reorder(item, pct),
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 1),
scale = percent) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = reorder(item, pct),
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 1),
labels = percent) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, group) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, group) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2))
}
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(response, group) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(response, group, item) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_multiple(lives_in_oregon)
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = item,
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 1),
labels = percent) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_multiple(lives_in_oregon) %>%
dk_plot_awareness_depts()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
gather(key = "item", value = "response") %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, response) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(response, group, item) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = item,
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 1),
labels = percent) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_single() %>%
dk_plot_awareness_depts()
dk_summarize_awareness_depts_single <- function() {
data %>%
select(contains("how_aware_are_you_about")) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts")) %>%
gather(key = "item", value = "response") %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(item, response) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y") %>%
mutate(group = "All respondents")
}
dk_summarize_awareness_depts_multiple <- function(group_col) {
data %>%
select(contains("how_aware_are_you_about"),
!!rlang::ensym(group_col)) %>%
set_names(c("FICB",
"Community Economic Development",
"Children, Youth, and Families",
"Postsecondary Success",
"Visual Arts",
"group")) %>%
gather(key = "item", value = "response", -group) %>%
mutate(response = ifelse(response == "Fairly aware" |
response == "I know this work well",
"Y", "N")) %>%
group_by(response, group, item) %>%
summarize(n = n()) %>%
mutate(pct = round(prop.table(n), 2)) %>%
filter(!is.na(response)) %>%
filter(response == "Y")
}
dk_plot_awareness_depts <- function(.data) {
ggplot(.data, aes(x = item,
y = pct)) +
geom_col(fill = tfff.dark.green) +
geom_text(aes(label = percent(pct)),
hjust = -.35,
color = tfff.dark.green) +
coord_flip() +
dk_theme +
theme(axis.title = element_blank()) +
scale_y_continuous(limits = c(0, 1),
labels = percent) +
theme(panel.grid.minor = element_blank()) +
facet_wrap(~group, ncol = 2)
}
dk_summarize_awareness_depts_single() %>%
dk_plot_awareness_depts()
dk_summarize_awareness_depts_single() %>%
dk_plot_awareness_depts()
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "report_subgroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "report_subgroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "report_subgroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "report_subgroups",
clean = TRUE)
library(bookdown)
# V1 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("overview.Rmd",
"bookdown::gitbook",
output_dir = "report_overview",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "report_subgroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subgroups",
clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subgroups",
clean = TRUE)
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subgroups",
clean = TRUE)
library(bookdown)
# V1 ----------------------------------------------------------------------
# gitbook(split_by = "section+number",
#         number_sections = TRUE)
#
# render_book("overview.Rmd",
#             "bookdown::gitbook",
#             output_dir = "report_overview",
#             clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subgroups",
clean = TRUE)
library(bookdown)
# V1 ----------------------------------------------------------------------
# gitbook(split_by = "section+number",
#         number_sections = TRUE)
#
# render_book("overview.Rmd",
#             "bookdown::gitbook",
#             output_dir = "report_overview",
#             clean = TRUE)
# V2 ----------------------------------------------------------------------
gitbook(split_by = "section+number",
number_sections = TRUE)
render_book("subgroups.Rmd",
"bookdown::gitbook",
output_dir = "subgroups",
clean = TRUE)
